import os.path

PREPROCESS = lambda csvfile, row: row['filename']=os.path.basename(csvfile.name)

FIELDNAMES=OrderedDict([
	('1)identifiant',
		['sourcename']),
	('2)filename',
		['filename']),
	('3)organism',
		['characteristics[organism]',
		 'factorvalue[organism]']),
	('4)assaytype',
		['comment[library_selection]',
		 'comment[library_strategy]']),
	('5)antibody',
		['characteristics[chipantibody]',
		 'factorvalue[chipantibody]',
		 'factorvalue[antibody]',
		 'characteristics[antibody]',
		 'characteristics[chipantibodylot#]',
		 'characteristics[chipantibodybatch]',
		 'characteristics[chipantibodycatalog#]',
		 'factorvalue[immunoprecipitate]',
		 'characteristics[chipantibodycat.#]',
		 'factorvalue[chipantibodycat.#]',
		 'factorvalue[chipantibodyvendor]',
		 'characteristics[chipantibodyvendor]',
		 'characteristics[chipantibodymanufacturer]']),
	('6)target',
		['factorvalue[epitopetag]',
		 'characteristics[epitopetag]',
		 'factorvalue[taggedprotein]',
		 'characteristics[taggedprotein]',
		 'factorvalue[taptag]',
		 'characteristics[taptag]']),
	('7)treatment',
		['factorvalue[phosphateconcentration]',
		 'characteristics[phosphateconcentration]',
		 'factorvalue[growthmedium]',
		 'characteristics[growthmedium]',
		 'factorvalue[media]',
		 'factorvalue[growthcondition]',
		 'characteristics[growthcondition]',
		 'factorvalue[growthconditions]', 
		 'characteristics[growthconditions]',
		 'characteristics[condition]',
		 'factorvalue[condition]',
		 'factorvalue[growthphase]',
		 'factorvalue[cellcyclestage]',
		 'characteristics[cellcyclestage]',
		 'factorvalue[developmentalstage]',
		 'characteristics[developmentalstage]',
		 'factorvalue[culturetype]',
		 'characteristics[culturetype]',
		 'factorvalue[transformedwith]',
		 'characteristics[transformedwith]',
		 'characteristics[culturecondition]',
		 'characteristics[mnaseconcentration]',
		 'characteristics[growthphase]']),
	('8)strain',
		['factorvalue[strainorline]',
		 'characteristics[strainorline]',
		 'factorvalue[strain]',
		 'characteristics[strain]',
		 'factorvalue[strainnumber]',
		 'characteristics[strainnumber]',
		 'factorvalue[strain/background]',
		 'characteristics[strain/background]',
		 'characteristics[strainbackground]']),
	('9)genotype',
		['factorvalue[genotype]',
		 'characteristics[genotype]']),
	('10)description',
		['comment[sample_source_name]',
		 'comment[sample_description]',
		 'characteristics[individual]',
		 'comment[sample_title]']),
	('11)other',
		['assayname',
		 'characteristics[sex]',
		 'termaccessionnumber',
		 'characteristics[variation]',
		 'factorvalue[variation]',
		 'comment[library_layout]',
		 'comment[derivedarrayexpressftpfile]',
		 'comment[submitted_file_name]',
		 'hybridizationname',
		 'factorvalue[plasmid]',
		 'labeledextractname',
		 'comment[platform_title]',
		 'comment[library_source]',
		 'characteristics[bandexcised]',
		 'characteristics[moleculesubtype]',
		 'comment[ena_experiment]',
		 'comment[ena_sample]',
		 'comment[assay_pool]',
		 'label',
		 'provider',
		 'factorvalue[fixation]',
		 'unit[timeunit]',
		 'characteristics[timeharvesttime,postsporeinoculation]',
		 'comment[sample_characteristics]',
		 'factorvalue[bandexcised]',
		 'factorvalue[time]',
		 'comment[nominal_sdev]',
		 'arraydesignref',
		 'derivedarraydatafile',
		 'performer',
		 'protocolref',
		 'comment[direction]',
		 'comment[nominal_length]',
		 'characteristics[age]',
		 'comment[technicalreplicategroup]',
		 'comment[arrayexpressftpfile]',
		 'arraydatafile',
		 'technologytype',
		 'comment[quality_scoring_system]',
		 'comment[spot_length]',
		 'factorvalue[culture]',
		 'comment[instrument_model]',
		 'characteristics[averageinsertsize+standarddev]',
		 'comment[read_index_1_base_coord]',
		 'characteristics[startingmaterial]',
		 'comment[number_of_lanes]',
		 'characteristics[culture]',
		 'characteristics[celltype]',
		 'scanname',
		 'extractname',
		 'factorvalue[averageinsertsize+standarddev]',
		 'materialtype','characteristics[fixation]',
		 'comment[ascii_offset]',
		 'normalizationname',
		 'comment[quality_encoding]',
		 'comment[md5]',
		 'characteristics[plasmid]',
		 'factorvalue[timeharvesttime,postsporeinoculation]',
		 'comment[ena_run]',
		 'comment[sequence_length]',
		 'comment[fastq_uri]',
		 'comment[orientation]',
		 'comment[library_strand]',
		 'termsourceref']),
	])