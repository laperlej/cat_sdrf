import os.path

PREPROCESS = lambda csvfile, row: row['filename']=os.path.basename(csvfile.name)

FIELDNAMES=OrderedDict([
	('1)identifiant',
		['sourcename']),
	('2)filename',
		['filename']),
	('3)organism',
		".*organism.*"),
	('4)assaytype',
		['comment[library_selection]',
		 'comment[library_strategy]']),
	('5)antibody',
		["(antibody|immunoprecipitate)"
		 ]),
	('6)target',
		['(epitopetag|taggedprotein|taptag|protein)']),
	('7)treatment',
		['(phosphate|concentration|growth|medium|media|condition|cyclestage|developmentalstage|culturetype|transformedwith)']),
	('8)strain',
		['strain']),
	('9)genotype',
		['(genotype)']),
	('10)description',
		['comment[sample_source_name]',
		 'comment[sample_description]',
		 'characteristics[individual]',
		 'comment[sample_title]']),
	('11)other',
		['assayname',
		 'characteristics[sex]',
		 'termaccessionnumber',
		 'characteristics[variation]',
		 'factorvalue[variation]',
		 'comment[library_layout]',
		 'comment[derivedarrayexpressftpfile]',
		 'comment[submitted_file_name]',
		 'hybridizationname',
		 'factorvalue[plasmid]',
		 'labeledextractname',
		 'comment[platform_title]',
		 'comment[library_source]',
		 'characteristics[bandexcised]',
		 'characteristics[moleculesubtype]',
		 'comment[ena_experiment]',
		 'comment[ena_sample]',
		 'comment[assay_pool]',
		 'label',
		 'provider',
		 'factorvalue[fixation]',
		 'unit[timeunit]',
		 'characteristics[timeharvesttime,postsporeinoculation]',
		 'comment[sample_characteristics]',
		 'factorvalue[bandexcised]',
		 'factorvalue[time]',
		 'comment[nominal_sdev]',
		 'arraydesignref',
		 'derivedarraydatafile',
		 'performer',
		 'protocolref',
		 'comment[direction]',
		 'comment[nominal_length]',
		 'characteristics[age]',
		 'comment[technicalreplicategroup]',
		 'comment[arrayexpressftpfile]',
		 'arraydatafile',
		 'technologytype',
		 'comment[quality_scoring_system]',
		 'comment[spot_length]',
		 'factorvalue[culture]',
		 'comment[instrument_model]',
		 'characteristics[averageinsertsize+standarddev]',
		 'comment[read_index_1_base_coord]',
		 'characteristics[startingmaterial]',
		 'comment[number_of_lanes]',
		 'characteristics[culture]',
		 'characteristics[celltype]',
		 'scanname',
		 'extractname',
		 'factorvalue[averageinsertsize+standarddev]',
		 'materialtype','characteristics[fixation]',
		 'comment[ascii_offset]',
		 'normalizationname',
		 'comment[quality_encoding]',
		 'comment[md5]',
		 'characteristics[plasmid]',
		 'factorvalue[timeharvesttime,postsporeinoculation]',
		 'comment[ena_run]',
		 'comment[sequence_length]',
		 'comment[fastq_uri]',
		 'comment[orientation]',
		 'comment[library_strand]',
		 'termsourceref']),
	])